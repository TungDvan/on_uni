# BÀI 1: CÀI WIN SEVER 2016

![alt text](_img/_1/image.png)

![alt text](_img/_1/image-1.png)

![alt text](_img/_1/image-3.png)

![alt text](_img/_1/image-4.png)

![alt text](_img/_1/image-5.png)

![alt text](_img/_1/image-6.png)

![alt text](_img/_1/image-7.png)

![alt text](_img/_1/image-8.png)

![alt text](_img/_1/image-9.png)

![alt text](_img/_1/image-10.png)

![alt text](_img/_1/image-11.png)

![alt text](_img/_1/image-12.png)

![alt text](_img/_1/image-13.png)

![alt text](_img/_1/image-14.png)

![alt text](_img/_1/image-15.png)

![alt text](_img/_1/image-16.png)

![alt text](_img/_1/image-17.png)

![alt text](_img/_1/image-18.png)

![alt text](_img/_1/image-19.png)

![alt text](_img/_1/image-20.png)

![alt text](_img/_1/image-22.png)

![alt text](_img/_1/image-23.png)

![alt text](_img/_1/image-24.png)

![alt text](_img/_1/image-25.png)

![alt text](_img/_1/image-26.png)

![alt text](_img/_1/image-27.png)

![alt text](_img/_1/image-28.png)

![alt text](_img/_1/image-29.png)

![alt text](_img/_1/image-30.png)

![alt text](_img/_1/image-31.png)

![alt text](_img/_1/image-32.png)

![alt text](_img/_1/image-33.png)

![alt text](_img/_1/image-34.png)

![alt text](_img/_1/image-35.png)

# BÀI 2: CÀI WIN 2010

![alt text](_img/_2/image.png)

![alt text](_img/_2/image-1.png)

![alt text](_img/_2/image-2.png)

![alt text](_img/_2/image-3.png)

![alt text](_img/_2/image-4.png)

![alt text](_img/_2/image-5.png)

![alt text](_img/_2/image-6.png)

![alt text](_img/_2/image-7.png)

![alt text](_img/_2/image-8.png)

![alt text](_img/_2/image-9.png)

![alt text](_img/_2/image-10.png)

![alt text](_img/_2/image-11.png)

![alt text](_img/_2/image-12.png)

![alt text](_img/_2/image-13.png)

![alt text](_img/_2/image-14.png)

![alt text](_img/_2/image-15.png)

<!-- ![alt text](_img/_2/image-16.png) -->

![alt text](_img/_2/image-17.png)

![alt text](_img/_2/image-18.png)

![alt text](_img/_2/image-19.png)

![alt text](_img/_2/image-20.png)

![alt text](_img/_2/image-21.png)

![alt text](_img/_2/image-22.png)

![alt text](_img/_2/image-23.png)

![alt text](_img/_2/image-24.png)

![alt text](_img/_2/image-25.png)

![alt text](_img/_2/image-26.png)

![alt text](_img/_2/image-27.png)

![alt text](_img/_2/image-28.png)

![alt text](_img/_2/image-29.png)

![alt text](_img/_2/image-30.png)

![alt text](_img/_2/image-31.png)

![alt text](_img/_2/image-33.png)

![alt text](_img/_2/image-34.png)

![alt text](_img/_2/image-35.png)

![alt text](_img/_2/image-36.png)

![alt text](_img/_2/image-37.png)

![alt text](_img/_2/image-38.png)

![alt text](_img/_2/image-39.png)

![alt text](_img/_2/image-40.png)

![alt text](_img/_2/image-41.png)

![alt text](_img/_2/image-42.png)

![alt text](_img/_2/image-43.png)

![alt text](_img/_2/image-44.png)

![alt text](_img/_2/image-45.png)

![alt text](_img/_2/image-46.png)

- Thực hiện cài như ở win sever 2016

- Như vậy sau 2 bài này ta sẽ có sever và máy cliet như sau

![alt text](_img/_2/image-47.png)

![alt text](_img/_2/image-48.png)

# BÀI 3: NÂNG CẤP MÁY CHỦ WINDOWS SEVER 2016 LÊN DOMAIN CONTROLLER VÀ JOIN DOMAIN

![alt text](_img/_3/image.png)

![alt text](_img/_3/image-1.png)

![alt text](_img/_3/image-2.png)

- `netsh interface show interface`: xem card mạng.

- `netsh interface ip set address name="Ethernet0" static 192.168.1.2 255.255.255.0 192.168.1.1`: định địa chỉ cho card mạng Ethernet.

- `netsh interface ip set dns name="Ethernet0" static 192.168.1.2`: định địa chỉ dns.

    ![alt text](_img/_3/image-3.png)

    ![alt text](_img/_3/image-4.png)

    ![alt text](_img/_3/image-5.png)

    ![alt text](_img/_3/image-6.png)

    ![alt text](_img/_3/image-7.png)

- chúng ta vẫn có thể định địa chỉ bằng tay.

- Thực hiện cài đặt dịch cụ Active Directory Domain Serviece.

    ![alt text](_img/_3/image-9.png)

    ![alt text](_img/_3/image-10.png)

    ![alt text](_img/_3/image-11.png)

    ![alt text](_img/_3/image-12.png)

    ![alt text](_img/_3/image-14.png)

    ![alt text](_img/_3/image-15.png)

    ![alt text](_img/_3/image-16.png)

    ![alt text](_img/_3/image-17.png)

    ![alt text](_img/_3/image-18.png)

    ![alt text](_img/_3/image-19.png)

    ![alt text](_img/_3/image-20.png)

    ![alt text](_img/_3/image-21.png)

    ![alt text](_img/_3/image-22.png)

    ![alt text](_img/_3/image-23.png)

    ![alt text](_img/_3/image-24.png)
    
    <!-- ![alt text](_img/_3/image-25.png) -->

    ![alt text](_img/_3/image-26.png)

    ![alt text](_img/_3/image-27.png)

    ![alt text](_img/_3/image-28.png)

    ![alt text](_img/_3/image-29.png)

    ![alt text](_img/_3/image-30.png)

    ![alt text](_img/_3/image-31.png)

    ![alt text](_img/_3/image-32.png)

    ![alt text](_img/_3/image-33.png)

    Để kiểm tra máy chủ đã nâng cấp lên **Domain Controller** chưa, vào **Compuer/Properties**.

    ![alt text](_img/_3/image-34.png)

    Kiểm tra, sửa lại địa chỉ card mạng, địa chỉ **DNS Server** phải trùng với địa chỉ IP của máy **Domain Controller**. 

    ![alt text](_img/_3/image-35.png)

- Thực hiện Join máy **Client** vào **Domain**:

    ![alt text](_img/_3/image-36.png)

    ![alt text](_img/_3/image-37.png)

    ```txt
    netsh interface show interface

    netsh interface ip set address name="Ethernet0" static 192.168.1.10 255.255.255.0 192.168.1.1

    netsh interface ip set dns name="Ethernet0" static 192.168.1.2
    ```

    Gõ `network connection` ta kiểm tra:

    ![alt text](_img/_3/image-38.png)

    ![alt text](_img/_3/image-39.png)

    Thực hiện ping từ máy client đên máy sever.

    <!-- ![alt text](_img/_3/image-40.png) -->

    ![alt text](_img/_3/image-41.png)

- Để Join máy **Client** vào **Domain**, vào **This PC/Properties/Change Settings**.

    Vô `Control Panel` và gõ `Control Panel\System and Security\System` ở thanh tìm kiếm

    ![alt text](_img/_3/image-43.png)

    ![alt text](_img/_3/image-44.png)

    ![alt text](_img/_3/image-45.png)

    ![alt text](_img/_3/image-46.png)

    Nếu join thành công thì sẽ hiện:

    ![alt text](_img/_3/image-47.png)

    Sau khi restart lại máy thì kiểm tra xem đã join được chưa.

    ![alt text](_img/_3/image-48.png)

## Phụ:

- `control timedate.cpl`: Kiểm tra giờ và chỉnh.

- `hostname`: để xem tên sever.

- `wmic computersystem where name="%computername%" call rename name="TungDvan"`: đổi tên sever thành TungDvan.

    `shutdown /r /t 0`: reset lại máy.

- `netsh interface set interface name="CurrentName" newname="NewName"`: dổi tên card mạng.

# BÀI 4: CẤU HÌNH CÁC ĐỐI TƯỢNG TRÊN ACTIVE DIRECTORY. 

## Tạo và cấu hình tài khoản trên Domain Controller. 

![alt text](_img/_4/image.png)

![alt text](_img/_4/image-1.png)

![alt text](_img/_4/image-2.png)

![alt text](_img/_4/image-3.png)

- Thực hiện trên sever, tạo nhóm và tài khoản người dùng.

    ![alt text](_img/_4/image-4.png)

    Vào dịch vụ **Active Directory User and Computer** để tạo **OU, Group, User**,.

    ![alt text](_img/_4/image-5.png)

    ![alt text](_img/_4/image-6.png)

    - Tiến hành tạo các đối tượng **group**:

        ![alt text](_img/_4/image-7.png)

        hoặc có thể nhấn vô đây:

        ![alt text](_img/_4/image-8.png)

        Tại cửa sổ **New object – Group**, nhập vào tên **Group**. 
        
        - Group scope : Global. 

        - Group Type : Security.

        ![alt text](_img/_4/image-9.png)

        ![alt text](_img/_4/image-10.png)

    - Tiến hành tạo tài khoản người dùng (User):

        ![alt text](_img/_4/image-11.png)

        hoặc có thể nhấn vô đây:

        ![alt text](_img/_4/image-12.png)

        Để tạo User tên là **Nguyen Quoc Hung**, tại cửa sổ **New Object – User**, nhập vào các thông số sau:

        - **First name**: Nguyen Quoc. 

        - **Last name**: Hung. 

        - **Full name**: Nguyen Quoc Hung. 

        - **User logon name**: hungnq (@bkaptech.vn).

        ![alt text](_img/_4/image-13.png)

        Tại cửa sổ tiếp theo, nhập vào mật khẩu (password) của tài khoản `hungnq` (mk: `123456a@`):

        - **User must change password at next logon**: tài khoản phải thay đổi mật khẩu trong lần đăng nhập tiếp theo (khuyển khích bỏ tùy chọn này). 

        - **User cannot change password**: Tài khoản không được thay đổi password (khuyến khích dùng tùy chọn này). 

        - **Password never expires**: Mật khẩu không bao giờ hết hạn (khuyến khích dùng tùy chọn này). 

        - **Account is disabled**: Tài khoản bị khóa (khuyến khích không dùng tùy chọn này).

        ![alt text](_img/_4/image-14.png)

        ![alt text](_img/_4/image-15.png)

        ![alt text](_img/_4/image-16.png)

    - Tiến hành **Add User** vào **Group**:

        - Click chuột phải tại **Group GG_S_GV**, chọn **Properties**.

        - Tại cửa sổ **GG_S_GV** Properties, chuyển sang tab **Members**.

        ![alt text](_img/_4/image-17.png)

        ![alt text](_img/_4/image-19.png)

        ![alt text](_img/_4/image-20.png)

        Nhập vào User cần add vào **Group** (VD: nhập vào User **hungnq@bkaptech.vn**) (click vào **Check Names** khi nhập tên User).

        ![alt text](_img/_4/image-21.png)

        **Add User** vào **Group** thành công !!

        ![alt text](_img/_4/image-22.png)

        Nhập thông tin của các thành viên còn lại:

        - Vũ Văn Cường (giảng viên):

            ![alt text](_img/_4/image-23.png)

            ![alt text](_img/_4/image-27.png)

            ![alt text](_img/_4/image-26.png)

        - Nguyễn Quốc Hưng (giảng viên):

            ![alt text](_img/_4/image-28.png)

            ![alt text](_img/_4/image-29.png)

        - Chu Hồng Quân (giảng viên):

            ![alt text](_img/_4/image-30.png)

            ![alt text](_img/_4/image-31.png)

            ![alt text](_img/_4/image-32.png)

        - Nguyễn Hoài Duy (Nhóm giám đốc):

            ![alt text](_img/_4/image-33.png)

            ![alt text](_img/_4/image-34.png)

            ![alt text](_img/_4/image-35.png)

    - Sau khi nhập xong ta sẽ được như sau:

        ![alt text](_img/_4/image-36.png)

    - Thực hiện thêm các giange viên vào group:

        ![alt text](_img/_4/image-37.png)

        ![alt text](_img/_4/image-38.png)

        ![alt text](_img/_4/image-39.png)

        ![alt text](_img/_4/image-40.png)

    - Tất cả các tài khoản người dùng trên là thành viên của nhóm **Backup Operators**.

        ![alt text](_img/_4/image-41.png)

        ![alt text](_img/_4/image-42.png)

        ![alt text](_img/_4/image-43.png)

        ![alt text](_img/_4/image-44.png)

        ![alt text](_img/_4/image-45.png)

        ![alt text](_img/_4/image-46.png)

    - **Thực hiện:** Tài khoản người dùng `duynh` và `cuongvv` phải thay đổi mật khẩu (password) khi đăng nhập vào hệ thống lần đầu tiên. 

        ![alt text](_img/_4/image-47.png)

        ![alt text](_img/_4/image-48.png)

        ![alt text](_img/_4/image-49.png)

        ![alt text](_img/_4/image-50.png)
    
    - **Thực hiện:** Người dùng `quanch` không được phép đổi mật khẩu từ máy trạm. Người dùng `quanch` hết hạn làm việc vào ngày 10/10/2024.

        ![alt text](_img/_4/image-51.png)

        ![alt text](_img/_4/image-52.png)

    - **Thực hiện:** Tạm khóa tài khoản `hungnq` vì người dùng bận việc bên ngoài.

        ![alt text](_img/_4/image-53.png)

        ![alt text](_img/_4/image-54.png)

    - **Thực hiện:** Nhân viên nhóm giảng viên được phép đăng nhập vào mạng từ `7h` sáng đến `9h` tối hàng ngày, từ **thứ 2** đến **thứ 7**. 

        ![alt text](_img/_4/image-55.png)

        <!-- ![alt text](_img/_4/image-56.png) -->

        ![alt text](_img/_4/image-57.png)

        ![alt text](_img/_4/image-58.png)

        ![alt text](_img/_4/image-59.png)

    - T**hực hiện:** Chuyển qua máy trạm , thực hiện Join máy Client vào Domain, kiểm tra đăng nhập tài khoản.

        ![alt text](_img/_4/image-60.png)

        Đăng nhập tài khoản `duynh` và `cuongvv` để kiểm tra. (**User** phải thay đổi mật khẩu trong lần đăng nhập đầu tiên).

        - Với user `duynh`:

            ![alt text](_img/_4/image-61.png)

            ![alt text](_img/_4/image-62.png)

            ![alt text](_img/_4/image-63.png)

            ![alt text](_img/_4/image-64.png)

            ![alt text](_img/_4/image-65.png)

            ![alt text](_img/_4/image-66.png)

        - Với user `cuongvv`:

            ![alt text](_img/_4/image-67.png)

            ![alt text](_img/_4/image-68.png)

            ![alt text](_img/_4/image-69.png)

            ![alt text](_img/_4/image-70.png)

            ![alt text](_img/_4/image-71.png)

        User `hungnq` bị khóa tài khoản do bận việc bên ngoài:

        ![alt text](_img/_4/image-72.png)

        ![alt text](_img/_4/image-73.png)

        ![alt text](_img/_4/image-74.png)

## Tạo OU, Group, User và cấu hình ủy quyền quản trị OU

![alt text](_img/_4/image-75.png)

![alt text](_img/_4/image-76.png)

![alt text](_img/_4/image-77.png)

![alt text](_img/_4/image-78.png)

![alt text](_img/_4/image-79.png)

- Chuẩn bị:

    **Sever:**

    ![alt text](_img/_4/image-80.png)

    **Client:**

    ![alt text](_img/_4/image-81.png)

- Thực hiện trên máy **sever**, tạo **OU, Group, User**:

    ![alt text](_img/_4/image-82.png)

    Tạo **OU HANOI**:

    ![alt text](_img/_4/image-83.png)

    ![alt text](_img/_4/image-84.png)

    Tạo **OU Technical** trong **OU HANOI**:

    ![alt text](_img/_4/image-85.png)

    ![alt text](_img/_4/image-86.png)

    Làm tương tự với **Sale** và **Marketing**:

    ![alt text](_img/_4/image-87.png)

    ![alt text](_img/_4/image-88.png)

    ![alt text](_img/_4/image-89.png)

    ![alt text](_img/_4/image-90.png)

    ![alt text](_img/_4/image-91.png)

- Tạo các **Group, User** trong các **OU** tương ứng:

    - Phòng ban **Technical** : Nguyễn Quốc Hưng (`hungnq`) , Chu Hồng Quân (`quanch`) thuộc nhóm **GG_S_Technicals**.

        ![alt text](_img/_4/image-92.png)

        ![alt text](_img/_4/image-93.png)

        ![alt text](_img/_4/image-94.png)

        ![alt text](_img/_4/image-95.png)

        ![alt text](_img/_4/image-96.png)

        ![alt text](_img/_4/image-97.png)

        ![alt text](_img/_4/image-98.png)

        ![alt text](_img/_4/image-99.png)

        ![alt text](_img/_4/image-100.png)

        ![alt text](_img/_4/image-101.png)

        ![alt text](_img/_4/image-102.png)

        Add 2 User `hungnq` và `quanch` vào **Group GG_S_Technicals**:

        ![alt text](_img/_4/image-103.png) 

        ![alt text](_img/_4/image-104.png)

        ![alt text](_img/_4/image-105.png)

        ![alt text](_img/_4/image-106.png)

        ![alt text](_img/_4/image-107.png)

        ![alt text](_img/_4/image-108.png)

    - Phòng ban **Sale** : Lưu Văn Trưởng (`truonglv`) , Lưu Văn Nghĩa (`nghialv`) thuộc nhóm **GG_S_Sales**.

        Làm tương tự như với phòng trên, kết quả sẽ như sau:

        ![alt text](_img/_4/image-109.png)

        ![alt text](_img/_4/image-110.png)

    - Phòng ban **Marketing**: Nguyễn Tiến Cường (`cuongnt`) thuộc nhóm **GG_S_Marketings**.

        Làm tương tự như với phòng trên, kết quả sẽ như sau:

        ![alt text](_img/_4/image-111.png)

        ![alt text](_img/_4/image-112.png)

- Cấu hình ủy quyền cho tài khoản `hungnq` được phép tạo tài khoản.

    ![alt text](_img/_4/image-113.png)

    ![alt text](_img/_4/image-114.png)

    ![alt text](_img/_4/image-115.png)

    ![alt text](_img/_4/image-116.png)

    ![alt text](_img/_4/image-117.png)

    ![alt text](_img/_4/image-119.png)

    ![alt text](_img/_4/image-120.png)

- Chuyển qua máy **Client**, tiến hành Join máy **Client** vào **Domain**, đăng nhập bằng tài khoản **Administrator** để kiểm tra Join đã thành công chưa.

    ![alt text](_img/_4/image-121.png)

    ***Cài đặt tool*** : **Remote Server Administration Tools Window 10** (tải ở ngoài rùi ném vào máy ảo).

    ![alt text](_img/_4/image-127.png)

    ***Chạy file:***

    ![alt text](_img/_4/image-128.png)

    ![alt text](_img/_4/image-129.png)

    ![alt text](_img/_4/image-130.png)

    ![alt text](_img/_4/image-131.png)

    ![alt text](_img/_4/image-132.png)

    Vào **Start**, tìm `Administrative Tools` để mở chương trình RSAT vừa cài đặt. 

    ![alt text](_img/_4/image-133.png)

    Giao diện của chương trình `RSAT`:

    ![alt text](_img/_4/image-134.png)

    Chuyển qua tài khoản `hungnq` để kiểm tra.

    ![alt text](_img/_4/image-135.png)

    ![alt text](_img/_4/image-136.png)

    ![alt text](_img/_4/image-137.png)

    ![alt text](_img/_4/image-138.png)

- Từ máy Client Windows 8, sử dụng **Remote Server Administration Tools** để đăng nhập tài khoản quản trị `hungnq`, tạo tài khoản Vũ Văn Cường (`cuongvv`) ở phòng ban **Technical**.

    Vào chương trình **RSAT** vừa cài đặt, vào dịch vụ **Active Directory User and Computer.**

    ![alt text](_img/_4/image-139.png)

    Tạo tài khoản Vũ Văn Cường (`cuongvv`) ở phòng ban **Technical**.

    ![alt text](_img/_4/image-140.png)

    Chuyển qua server để kiểm tra. User `cuongvv` đã được đồng bộ sang DC.

    ![alt text](_img/_4/image-141.png)